<!DOCTYPE html>
<html>
<head>
    <title>1v1 - StrongDog XP</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #2e2e2e;
            color: white;
        }

        .header {
            background-color: #333;
            padding: 10px 20px;
            text-align: left;
        }

        .header a {
            color: white;
            text-decoration: none;
            font-size: 24px;
        }

        .categories {
            background-color: #444;
            text-align: center;
            padding: 10px 0;
        }

        .categories a {
            margin: 0 10px;
            color: white;
            text-decoration: none;
            font-size: 18px;
        }


        .game-container {
            width: 80%;
            height: 650px; /* Adjusted height */
            margin: 20px auto;
            background-color: #555;
            position: relative;
            overflow: hidden; /* Hides overflow from the container */
        }



        .game-container {
            width: 80%;
            height: 600px;
            margin: 20px auto;
            background-color: #555;
            position: relative;
            overflow: hidden; /* Hides overflow from the container */
        }

        .game-container iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block; /* Ensuring display block */
        }

        .game-bar {
    .fullscreen-button {
        padding: 5px 10px;
        background-color: #333;
        color: white;
        border: none;
        cursor: pointer;
    }
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #444;
            border-radius: 15px;
            padding: 10px;
            margin: 0 auto;
            width: 80%;
        }

        .fullscreen-button {
            padding: 5px 10px;
            background-color: #333;
            color: white;
            border: none;
            cursor: pointer;
        }

    .content {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 20px 0;
    }
    .ad {
        width: 120px;
        height: 300px;
        background-color: #333;
        margin: 0 10px;
    }
    .game-container {
        flex-shrink: 0;
    }
        </style>
</head>
<body>
    <div class="header">
        <a href="../../index.html" class="logo">StrongDog</a>
        <a href="../../index.html" class="logo" style="color: orange;">XP</a>
    </div>

    <div class="categories">
        <a href="../../new.html">New</a>
        <a href="../../all.html">All</a>

    </div>

    
    <div class="content">
        <div class="ad ad-left">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1609993827735056"
     crossorigin="anonymous"></script>
<!-- in game ads -->
<ins class="adsbygoogle"
     style="display:inline-block;width:120px;height:300px"
     data-ad-client="ca-pub-1609993827735056"
     data-ad-slot="3552085788"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
        </div>
    <div class="game-container" id="gameContainer">
        <!-- Game Embed Will Go Here -->
    </div>
        <div class="ad ad-right">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1609993827735056"
     crossorigin="anonymous"></script>
<!-- in game ads -->
<ins class="adsbygoogle"
     style="display:inline-block;width:120px;height:300px"
     data-ad-client="ca-pub-1609993827735056"
     data-ad-slot="3552085788"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
        </div>
    </div>
    

    <div class="game-bar">
        <span id="gameTitle">Game Title</span>
<span id="favoriteIcon" class="favorite-icon" style="cursor: pointer;">&#9734;</span>
        <button id="fullscreenButton" class="fullscreen-button">Fullscreen</button>
    </div>

<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>

<!-- Add additional services that you want to use -->
<script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-database.js"></script>

<script>
  // Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyAkZm7tX_gusKs9bXowJlgu45IYjFMYkM0",
  authDomain: "veiws-40397.firebaseapp.com",
  projectId: "veiws-40397",
  storageBucket: "veiws-40397.appspot.com",
  messagingSenderId: "764762707209",
  appId: "1:764762707209:web:3f8f96501b7a5000e6afd8",
  measurementId: "G-3G2K4Z9QPW"
};
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>

    <script>
  document.addEventListener('DOMContentLoaded', function() {
      var gameTitle = document.getElementById('gameTitle').textContent;

      var database = firebase.database();
      var viewsRef = database.ref('games/' + gameTitle);

      viewsRef.transaction(function(currentViews) {
          // If views have never been set, initialize them
          if (currentViews === null) {
              return 1;
          } else {
              return currentViews + 1;
          }
      }, function(error, committed, snapshot) {
          if (error) {
              console.log('Transaction failed abnormally!', error);
          } else if (!committed) {
              console.log('We aborted the transaction (because data already exists).');
          } else {
              console.log('Game viewed! New count: ' + snapshot.val());
          }
          // Disconnect from database after updating the view
          viewsRef.off();
      });
  });
</script>

    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var fullscreenButton = document.getElementById('fullscreenButton');
            var gameContainer = document.getElementById('gameContainer');
            var gameTitle = document.getElementById('gameTitle');

            function embedGame(gamePath, title) {
                var iframe = document.createElement('iframe');
                iframe.src = gamePath;
                iframe.style.width = '100%';
                iframe.style.height = '100%';
                iframe.style.border = 'none';
                gameContainer.innerHTML = '';
                gameContainer.appendChild(iframe);
                gameTitle.textContent = title;
            }

            embedGame('./game/index.html', '1v1');

            fullscreenButton.addEventListener('click', function() {
                if (gameContainer.requestFullscreen) {
                    gameContainer.requestFullscreen();
                } else if (gameContainer.webkitRequestFullscreen) {
                    gameContainer.webkitRequestFullscreen();
                } else if (gameContainer.msRequestFullscreen) {
                    gameContainer.msRequestFullscreen();
                }
            });
        });
    </script>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const favoriteIcon = document.getElementById('favoriteIcon');
        const gameTitle = document.getElementById('gameTitle').textContent;

        // Function to toggle the favorite status
        function toggleFavorite() {
            let favorites = JSON.parse(localStorage.getItem('favorites') || '{}');
            const imagePath = './img/' + gameTitle + '.jpg'; // Adjust based on how you store the image paths

            if (favorites[gameTitle]) {
                delete favorites[gameTitle];
            } else {
                favorites[gameTitle] = { path: `./html/${gameTitle}/index.html`, image: imagePath };
            }

            localStorage.setItem('favorites', JSON.stringify(favorites));
            updateFavoriteIcon(favorites, gameTitle);
        }

        // Function to update the star icon
        function updateFavoriteIcon(favorites, title) {
            if (favorites[title]) {
                favoriteIcon.innerHTML = '&#9733;'; // Filled star for favorited games
            } else {
                favoriteIcon.innerHTML = '&#9734;'; // Empty star for non-favorited games
            }
        }

        // Initial check to set the correct state of the star icon
        const favorites = JSON.parse(localStorage.getItem('favorites') || '{}');
        updateFavoriteIcon(favorites, gameTitle);

        // Event listener for the favorite icon
        favoriteIcon.addEventListener('click', function() {
            toggleFavorite();
        });
    });
    </script>
<script>
        document.addEventListener('DOMContentLoaded', function() {
    // JavaScript code here
});

</script>
    <script>
function handleResponse(data) {
    console.log('Data from Google Apps Script:', data);
    // Handle your data here
}

document.addEventListener('DOMContentLoaded', function() {
    var gameTitle = document.getElementById('gameTitle').textContent; // Ensure this ID matches your HTML
    var script = document.createElement('script');
    script.src = `https://script.google.com/macros/s/AKfycbzzLx2kaZWhCUHInv1OmWfnqK1Jyj7R200gzQ1R9gA8eawdtdq1GedIbEfUOnrdFLp93g/exec?gameName=${encodeURIComponent(gameTitle)}&callback=handleResponse`;
    document.head.appendChild(script);
});

</script>
    </body>
</html>
